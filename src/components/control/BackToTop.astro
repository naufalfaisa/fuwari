---
import { Icon } from "astro-icon/components";
---

<div class="back-to-top-wrapper hidden lg:block">
    <div id="back-to-top-btn" class="back-to-top-btn hide flex items-center rounded-2xl overflow-hidden transition" onclick="backToTop()">
        <button aria-label="Back to Top" class="btn-card h-[3.75rem] w-[3.75rem]">
            <Icon name="material-symbols:keyboard-arrow-up-rounded" class="mx-auto"></Icon>
        </button>
    </div>
</div>

<style lang="stylus">
.back-to-top-wrapper
    width: 3.75rem
    height: 3.75rem
    position: fixed
    right: 2rem
    bottom: 2rem
    pointer-events: none
    z-index: 50

.back-to-top-btn
    color: var(--primary)
    font-size: 2.25rem
    font-weight: bold
    border: none
    cursor: pointer
    pointer-events: auto
    transform: translateY(5rem) scale(0.9)
    opacity: 0
    transition: transform 0.3s ease, opacity 0.3s ease
    i
        font-size: 1.75rem
    &.show
        transform: translateY(0) scale(1)
        opacity: 1
    &:active
        transform: scale(0.9)

</style>

<script is:raw is:inline>
function backToTop() {
    window.scroll({ top: 0, behavior: 'smooth' });
}

// Optional: show/hide saat scroll
const btn = document.getElementById('back-to-top-btn');
window.addEventListener('scroll', () => {
    if (window.scrollY > 200) {
        btn.classList.add('show');
        btn.classList.remove('hide');
    } else {
        btn.classList.add('hide');
        btn.classList.remove('show');
    }
});
</script>
